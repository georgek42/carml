let obfuscate msg: secret(string) -> string =
  let l: int = string_len msg in
  mk_string '*' l
;;


let log msg: string -> unit = print msg;;
let log msg: secret(string) -> unit = print (obfuscate msg);;

let main: unit -> unit =
  let token: secret(string) = load_secret_value () in
  log "Loaded secret value";
  log token
;;