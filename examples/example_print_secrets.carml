let obfuscate msg: secret(string) -> string =
  let l: int = string_len (msg: string) in
  mk_string ('*': char) (l: int)
;;


let log msg: string -> unit = print (msg: string);;
let log msg: secret(string) -> unit = print ((obfuscate (msg: string)): string);;

let main: unit =
  let token: secret(string) = load_secret_value ((): unit) in
  log (token: secret(string));
  log ("Loaded secret value": string)
;;